<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Curso Git</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <h1>GIT cheat sheet</h1>
    <h3>Iniciar con GIT</h3>
    <ul>
      <li>
        git config --global user.name "Juanfran Tomas"
      </li>
      <li>
        git config --global user.email "juanfrandeveloper@gmail.com"
      </li>
      <li>
        git config --global color.ui true
      </li>
      <li>
        git init <span> // Iniciar con el repositorio</span>
      </li>
    </ul>

    <h3>Añadir archivos</h3>
    <ul>
      <li>
        git status <span> //Ver los cambios</span>
      </li>
      <li>
        git add nombrearchivo <span> //Añadir un archivo</span>
      </li>
      <li>
        git add -A <span> //Añadir todos los archivos</span>
      </li>
      <li>
        git commit -m "Añadirmos un commit" <span> //Añadir un commit despues de git add</span>
      </li>
    </ul>
    <h3>Trabajar con commits</h3>
    <ul>
      <li>
        git log <span> //Lista de todos los commits</span>
      </li>
      <li>
        git checkout 06b104c67d211090c92f807d978ca6ab11b3a0ab <span> //Id del commit para volver al commit que queramos</span>
      </li>
      <li>
        git checkout master <span> //Volver al ultimo commit</span>
      </li>
      <li>
        git log > commit.txt <span> //Guardar los commits en un archivo de texto</span>
      </li>
      <li>
        git reset --soft 06b104c67d211090c92f807d978ca6ab11b3a0ab <span> //Borra todos los commit sin borrar el codigo, hasta el commit introducido sin incluirlo</span>
      </li>
      <li>
        git reset --hard 06b104c67d211090c92f807d978ca6ab11b3a0ab <span> //Borra todos los commit borrando el codigo, hasta el commit introducido sin incluirlo</span>
      </li>
      <li>
        git commit --amend -m "Nuevo comentario" <span>//Cambia de nombre el ultimo comentario</span>
    </ul>
    <h3>Ramas y Fusiones</h3>
    <ul>
      <li>
        NOTA -> HEAD es el commit actual donde estamos
      </il>
    </ul>
    <h4>Ramas</h4>
    <h6>Es una linea de tiempo en nuestro proyecto, que nos sirve para arreglar errores, experimentar, hacer cambios, etc.. </h6>
    <ul>
      <li>
        git branch <span> //Mostrar ramas</span>
      </li>
      <li>
        git branch RamaNueva <span>//Crear una rama nueva</span>
      </li>
      <li>
        git checkout NombreRama <span>//Movernos entre ramas</span>
      </li>
      <li>
        git branch NombreRama <span> //Borra la rama </span>
      </li>
      <li>
        git checkout -b RamaNueva <span>//Creamos una rama y a la vez nos movemos a ella </span>
      </li>
      <li>
        git branch -a <span>//Ver ramas ocultas</span>
      </li>
    </ul>
    <h4>Fusiones</h4>
    <h6>Es la creación de un nuevo commit juntando una rama con otra</h6>
    <ul>
      <li>
        git checkout master <span>//Primero situarnos en la rama que se va a quedar</span>
      </li>
      <li>
        git merge Test <span> // Fusiona master <= Test </span>
      </li>
    </ul>
    <h4>GitHub o BitBucket</h4>
    <ul>
      <li>
        git clone https://github.com/.../.../nombredelproyecto.git <span> //Simplemente nos descargaremos el proyecto, pero no vamos a colaborar en el </span>
      </li>
      <li>
        git remote add origin https://github.com/juanfrantomas/notesGit.git <span> Vincular nuestro proyecto, con el proyecto remoto </span>
      </li>
      <li>
        git remote -v <span> Comprobar el git remote que estamos conectados </span>
      </li>
      <li>
        git remote remove origin <span> Borrar el repositorio </span>
      </li>
      <li>
        git push origin master <span> Enviamos el repositorio local al repositorio de github </span>
      </li>
      <li>
        git push origin master -f <span> Fuerza a subir el repositorio</span>
      </li>
    </ul>
    <h4>Issue</h4>
    <h6>Forma de mejorar nuestro codigo, solucionar errores, como una forma de continuar</h6>
    <ul>
      <li>
        Darle estilo a los Issue <a href="https://guides.github.com/features/mastering-markdown/"> Mastering Markdown</a>
      </li>
    </ul>
    <h4>Milestones</h4>
    <h6>Son grupos de issues que aplican para un proyecto, característica o periodo de tiempo.</h6>
    <h4>Tags anotadas</h4>
    <h6>Las tags anotadas son almacenadas como objetos completos dentro de la base de Git y continen más información</h6>
    <ul>
      <li>
        git tag -a v1.0 -m "Mensaje" numerocommit
      </li>
      <li>
        git push origin v1.0 <span> //Subir solo los commit con ese tag</span>
      </li>
      <li>
        git push origin --tags <span>//Subir todos los tags</span>
      </li>
    </ul>
    <h4>Workflows</h4>
    <h6>Flujos de trabajo: Proyectos propios, proyectos en equipo y proyectos con terceros</h6>
    <ul>
      <li>
        git fetch origin <span>//Bajamos el repositorio remoto a origin/master(Que es el repositorio espejo) </span>
      </li>
      <li>
        git merge origin/master <span> //Combinar el repositorio espejo con el local</span>
      </li>
      <li>
      	git pull origin master<span> //fetch + merge</span>
      <li>
        Fork:
        <ul>
          <li> Elegimos un Proyecto y pulsamos FORK </li>
          <li>git fetch upstream<span>//En caso de que la compañia actualize el codigo principal</span></li>
          <li>git clone https://github.com/compañia/repositorio.git <span> //Tendriamos el repositorio pero de nuestro perfil</span></li> 
          <li>git add -A</li>
          <li> git commit -m "Commit de la solucion"</li>
          <li>git push origin master</li>
          <li>Una vez lo tenemos subido, vamos github y vamos al repositorio nuestro y pulsamos en NEW PULL REQUEST de nuestro repositorio</li>
        </ul>
      </li>
  	</ul>
	<h4>Github Page</h4>
	<ul>
		<li>
			Para crear nuestra web personal simplemente creamos un repositorio juanfrantomas.github.io
		</li>
		<li>
			Para crear la web de un proyecto creamos una rama que se llamo gh-pages
		</li>
	</ul>
	<h4>Deployment</h4>
	<h6>Local -> Github -> NuestroServer (Sin contraseña con SSH)</h6>
	<ul>
		<li>
			Generamos una key ssh con: ssh-keygen
		</li>
		<li>
			La copiamos en nuestro usuario de github
		</li>
		<li>
			Nos vamos al servidor y copiamos la id_rsa.pub y la copiamos en github
		</li>
	</ul>
	<h4>Git Hooks</h4>
	<h6>Git-> script -> Ejecución</h6>
	<h6>Local(git push...) -> Github -> Server (git pull...)</h6>
	<ul>
		<li>
		Hay diferentes Hooks:
		<ul>
			<li>
				pre-commit
			</li>
			<li>
				post-commit
			</li>
			<li>
				pre-rebase
			</li>
			<li>
				post-checkout
			</li>
			<li>
				post-merge
			</li>
			<li>
				update
			</li>
			<li>
				post-update
			</li>
			<li>
				post-rewrite
			</li>
			<li>
				pre-push
			</li>
		</ul>
		</li>
		<li>
			Editamos o creamos el nombre del hook que queremos dentro de la carpeta .git/hooks
		</li>
		<li>
			.git/hooks/post-commit
			<div>
				#!/bin/sh
				git push origin Develop
				ssh root@nuestroserver.com 'bash -s' < deployment.sh
			</div>
		</li>
		<li>Damos permisos chmod -x post-commit
		<li>
			deployment.sh
			<div>
				#!/bin/sh<br/>
				cd ../var/www/blog/<br/>
				git pull origin master<br/>
				sudo service apache2 restart<br/>
			</div>
		</li>
		<li>
			.gitignore  //example
			<div>
				# Compiled source #<br/>
				###################<br/>
				<br/>
				*.com<br/>
				*.class<br/>
				*.dll<br/>
				*.exe<br/>
				*.o<br/>
				*.so<br/>
				*.sh<br/>
				<br/>
				# Packages #<br/>
				############<br/>
				<br/>
				*.7z<br/>
				*.dmg<br/>
				*.gz<br/>
				*.iso<br/>
				*.jar<br/>
				*.rar<br/>
				*.tar<br/>
				*.zip<br/>
				<br/>
				<br/>
				# Logs and databases <br/>
				#####################<br/>
				<br/>
				*.log<br/>
				*.sql<br/>
				*.sqlite<br/>
				<br/>
				# OS generated files #<br/>
				######################<br/>
				.DS_Store<br/>
				.DS_Store?<br/>
				._*<br/>
				.Spotlight-V100<br/>
				.Trashes<br/>
				ehthumbs.db<br/>
				Thumbs.db<br/>
			</div>
	</ul>
  </body>
</html>
